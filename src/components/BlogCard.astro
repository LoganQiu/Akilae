---
import type { CollectionEntry } from "astro:content";
import Meta from "./Meta.astro";
import { getPostPath } from "../utils/getPostPath";

export interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
const postPath = getPostPath(post);
---

<article class="border border-dashed border-muted/40 p-4 mb-4 hover:border-foreground">
    <h2 class="text-xl font-semibold mt-0 border-0 mb-2">
      <a href={postPath} class=""
        >{post.data.title}</a
      >
      {
        post.data.subtitle && (
          <small class="text-muted font-normal italic">
            {post.data.subtitle}
          </small>
        )
      }
    </h2>
    <Meta
      pubdate={post.data.pubdate}
      moddate={post.data.moddate}
      categories={post.data.categories}
      tags={post.data.tags}
    />
    {
      post.data.desc && (
        <p class="mb-0">
          {post.data.desc}
        </p>
      )
    }
</article>
